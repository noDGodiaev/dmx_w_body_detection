## #94 Распознавание людей на сцене и их автоматическая подсветка DMX-фонарем

Инструции по развертке находятся внутри папок с вариантами программы.

Перед работой необходимо поместить конфиг-файлы и файлы весов в один каталог с программой:

[Скачать веса](https://pjreddie.com/media/files/yolov3.weights) разных версий yolo_v3

[Скачать архитектуру и веса](https://github.com/AlexeyAB/darknet) yolo_v4. В работе используется версия yolo4-tiny




### Алгоритм:
- Устройство на котором размещена программа находится в одной сети с камерой и ArtNet контроллером
- Инициализируется модель нейронной сети через веса (.weights) и конфиг (.conf)
- С камеры забирается RTSP поток, покадрово. (rtsp адрес камеры и широковещательный адрес сети ArtNet контроллера передаются в качестве аргумента при запуске из командной строки)
- На обработку нейронной сети подается либо каждый кадр, либо каждый N кадр (определяется аргументом при запуске)
- Нейронная сеть идентифицирует много классов объектов - на следующий этап отделяются объекты класса 'Человек'
- Для каждого классифицированного объекта определяется зона интереса - две точки, определяющие углы прямоугольника.
- Протокол DMX предполагает передачу сигнала в дискретном наборе значений 0..255. Всё пространство сцены можно условно разделить на ячейки, которые будут однозначно определять положение фонаря. Например: от левой стены сцены до правой фонарь передвигается на 16 значений сигнала, в таком случае по горизонтальной оси будет 15 значений. 
- Для зоны интереса вокруг человека определяется её центр и ячейка решетки, после чего сигнал о перемещении фонаря в эту ячейку передается контроллеру.
    
    
